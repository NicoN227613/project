<article class="card" id="product-{{ product.id }}">
    <a href="{{ path('product_edit', {id: product.id}) }}">
        {% if product.expirationDate | date('d F Y') < "now" | date('d F Y') %}
            <span class="card__expiration">Expiré du {{ product.expirationDate | format_datetime('long','none', locale='fr') }}</span>
        {% elseif product.expirationDate | date('d F Y') == "now" | date('d F Y') %}
            <span class="card__expiration__now">Expire aujourd'hui</span>
        {% else %}
            <span class="card__not__expiration">Expire le {{ product.expirationDate | format_datetime('long','none', locale='fr') }}</span>
        {% endif %}
        <header class="card__thumb">
            {% if product.imageProduct is null %}
                <img src="/images/products/empty.jpg" alt="image">
            {% else %}
                <img src="{{ vich_uploader_asset(product.imageProduct) | imagine_filter('thumb')}}" alt="">
            {% endif %}
        </header>
        <div class="card__body">
            <div class="card__name">{{ product.name | capitalize }}</div>
            <div class="card__category">{{ product.classifiedIn.name }}</div>
            <div class="card__emplacement">{{ product.placeIn.name }}</div>
            <div class="card__quantity">{{ product.quantity }}</div>
            <div class="card__unity">{{ product.units.name }}</div>
            <div class="card__purchase__date">Acheté le : {{ product.purchaseDate | format_datetime('long','none', locale='fr') }}</div>
        </div>
        <footer class="card__footer"> 
            <div class="card__createdAt">Créer le : {{ product.createdAt | format_datetime('long','none', locale='fr') }}</div>
            <div class="card__updatedAt">Modifié le : {{ product.updatedAt | format_datetime('long','none', locale='fr') }}</div>
            <form method="POST" action="{{ path('product_delete', {id: product.id}) }}"
                onsubmit="return confirm('Etes-vous sur de supprimer ce produit ?')">
                <input type="hidden" name="_method" value="DELETE">
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ product.id) }}">
                <button>{{ icon('trash')}}</button>
            </form>
        </footer>
    </a>
</article>