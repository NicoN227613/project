<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{% block title %}Fresh Food{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:500,700|Roboto:300,400&display=swap"
        rel="stylesheet">
    
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
    {% block stylesheets %}{{ encore_entry_link_tags('app') }}{% endblock %}
</head>

<body>
    <nav class="nav">
        {% if app.user %}
        <ul class="nav__menu">
            <li class="nav__home {{ app.request.get('_route') == 'home' ? 'active' }}">
                <a href="{{ path('home') }}" title={% trans %}"Accueil"{% endtrans %}>{{ icon('home') }}</a>
            </li>
            <li>
                {# <a href="{{ path('user_user_index', {id: app.user.id})}}">{{ icon('user') }} Mon compte </a> #}
                <a href="{{ path('user_user_index')}}">{{ icon('user') }} {% trans %}Mon compte {% endtrans %}</a>
            </li>
            {% if is_granted('ROLE_ADMIN') %}
            <li><a href="{{ path('admin_home') }}">{{ icon('admin') }}{% trans %} Admin<{% endtrans %}/a></li>
            {% endif %}
            <li><a href="#">{{ icon('shopping-cart') }} {% trans %}Mes Achats{% endtrans %}</a></li>
            <li class="{{ app.request.get('_route') == 'product_index' ? 'active' }}">
                <a href="{{ path('product_index')}}">{{ icon('bags') }} {% trans %}Mes produits{% endtrans %}</a>
            </li>
            <li class="{{ app.request.get('_route') == 'contact' ? 'active' }}">
                <a href="{{ path('contact') }}">{{ icon('contact') }} {% trans %}Contact{% endtrans %}</a>
            </li>
        </ul>
        {% else %}
        {% endif %}
        {% if app.user %}
        <ul class="nav__side">
            <li class="nav__search"><a href="#">{{ icon('search') }}</a></li>
            <li class="nav__account"><a href="{{ path('security_logout') }}">{{ icon('door') }}{{ app.user.pseudo }}</a>
            </li>
        </ul>
        {% else %}
        <ul class="nav__side">
            <li class="nav__search"><a href="#">{{ icon('search') }}</a></li>
            <li class="nav__account {{ app.request.get('_route') == 'security_login' ? 'active' }}"><a
                    href="{{ path('security_login') }}">{{ icon('user') }}{% trans %} Connexion{% endtrans %}</a></li>
        </ul>
        {% endif %}
        </ul>
        {% if app.user %}
        <button class="nav__burger">
            <span></span>
        </button>
        {% else %}
        {% endif %}
    </nav>
    <div class="container">
        {% for type, messages in app.session.flashbag.all() %}
        {% for message in messages %}
        <alert-message type="{{ type }}" duration="6">
            {{ message }}
        </alert-message>
        {% endfor %}
        {% endfor %}

        {% block body %}
        {% endblock %}
    </div>
    {% block javascripts %}{{ encore_entry_script_tags('app')}}{% endblock %}
</body>

</html>